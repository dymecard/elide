<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>SpannerDriver</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF8">
<meta name="keywords" content="gust.backend.driver.spanner.SpannerDriver class">
<meta name="keywords" content="executorService()">
<meta name="keywords" content="codec()">
<meta name="keywords" content="retrieve()">
<meta name="keywords" content="persist()">
<meta name="keywords" content="delete()">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SpannerDriver";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SpannerDriver.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">gust.backend.driver.spanner</a></div>
<h2 title="Class SpannerDriver" class="title">Class SpannerDriver&lt;Key extends com.google.protobuf.Message,&#8203;Model extends com.google.protobuf.Message&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>gust.backend.driver.spanner.SpannerDriver&lt;Key,&#8203;Model&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>Key</code> - Typed <code>Message</code> which implements a concrete model key structure, as defined and annotated by the
              core Gust annotations.</dd>
<dd><code>Model</code> - Typed <code>Message</code> which implements a concrete model object structure, as defined and annotated by
              the core Gust annotations.</dd>
</dl>
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../../model/DatabaseDriver.html" title="interface in gust.backend.model">DatabaseDriver</a>&lt;Key,&#8203;Model,&#8203;com.google.cloud.spanner.Struct,&#8203;com.google.cloud.spanner.Mutation&gt;</code>, <code><a href="../../model/PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a>&lt;Key,&#8203;Model,&#8203;com.google.cloud.spanner.Struct,&#8203;com.google.cloud.spanner.Mutation&gt;</code></dd>
</dl>
<hr>
<pre>@Immutable
@ThreadSafe
public final class <a href="../../../../src-html/gust/backend/driver/spanner/SpannerDriver.html#line.72">SpannerDriver</a>&lt;Key extends com.google.protobuf.Message,&#8203;Model extends com.google.protobuf.Message&gt;
extends java.lang.Object
implements <a href="../../model/DatabaseDriver.html" title="interface in gust.backend.model">DatabaseDriver</a>&lt;Key,&#8203;Model,&#8203;com.google.cloud.spanner.Struct,&#8203;com.google.cloud.spanner.Mutation&gt;</pre>
<div class="block">Provides a <a href="../../model/DatabaseDriver.html" title="interface in gust.backend.model"><code>DatabaseDriver</code></a> implementation which enables seamless Protocol Buffer persistence with Google Cloud
 Spanner, for any <code>Message</code>-derived (schema-driven) business model in a given Gust app's ecosystem.

 <p>Model storage can be deeply customized on a per-model basis, thanks to the built-in proto annotations available
 in <code>gust.core</code>. The Spanner adapter supports basic persistence (i.e. as a regular
 <pre>PersistenceDriver</pre>), but also supports generic, object index-style queries.</p>

 <p>See the main <a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner"><code>SpannerAdapter</code></a> for a full description of supported application-level functionality.</p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="SpannerAdapter.html" title="class in gust.backend.driver.spanner"><code>Main typed adapter interface for Spanner.</code></a>, 
<a href="SpannerManager.html" title="class in gust.backend.driver.spanner"><code>Adapter instance manager and factory.</code></a>, 
<a href="SpannerDriverSettings.html" title="interface in gust.backend.driver.spanner"><code>Driver-level settings specific to Spanner.</code></a>, 
<a href="../firestore/FirestoreDriver.html" title="class in gust.backend.driver.firestore"><code>Similar driver implementation, built on top of Cloud Firestore,
      which itself is implemented on top of Cloud Spanner.</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="nested.classes.inherited.from.class.gust.backend.model.PersistenceDriver">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;gust.backend.model.<a href="../../model/PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a></h3>
<code><a href="../../model/PersistenceDriver.Internals.html" title="class in gust.backend.model">PersistenceDriver.Internals</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.gust.backend.model.PersistenceDriver">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;gust.backend.model.<a href="../../model/PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a></h3>
<code><a href="../../model/PersistenceDriver.html#DEFAULT_CACHE_TIMEOUT">DEFAULT_CACHE_TIMEOUT</a>, <a href="../../model/PersistenceDriver.html#DEFAULT_CACHE_TIMEOUT_UNIT">DEFAULT_CACHE_TIMEOUT_UNIT</a>, <a href="../../model/PersistenceDriver.html#DEFAULT_TIMEOUT">DEFAULT_TIMEOUT</a>, <a href="../../model/PersistenceDriver.html#DEFAULT_TIMEOUT_UNIT">DEFAULT_TIMEOUT_UNIT</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../model/ModelCodec.html" title="interface in gust.backend.model">ModelCodec</a>&lt;<a href="SpannerDriver.html" title="type parameter in SpannerDriver">Model</a>,&#8203;com.google.cloud.spanner.Mutation,&#8203;com.google.cloud.spanner.Struct&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#codec()">codec</a></span>()</code></th>
<td class="colLast">
<div class="block">Acquire an instance of the codec used by this adapter.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../runtime/ReactiveFuture.html" title="class in gust.backend.runtime">ReactiveFuture</a>&lt;<a href="SpannerDriver.html" title="type parameter in SpannerDriver">Key</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#delete(Key,gust.backend.model.DeleteOptions)">delete</a></span>&#8203;(<a href="SpannerDriver.html" title="type parameter in SpannerDriver">Key</a>&nbsp;key,
      <a href="../../model/DeleteOptions.html" title="interface in gust.backend.model">DeleteOptions</a>&nbsp;baseOptions)</code></th>
<td class="colLast">
<div class="block">Low-level record delete method.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>com.google.common.util.concurrent.ListeningScheduledExecutorService</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#executorService()">executorService</a></span>()</code></th>
<td class="colLast">
<div class="block">Resolve an executor service for use with this persistence driver.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../runtime/ReactiveFuture.html" title="class in gust.backend.runtime">ReactiveFuture</a>&lt;<a href="SpannerDriver.html" title="type parameter in SpannerDriver">Model</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#persist(Key,Model,gust.backend.model.WriteOptions)">persist</a></span>&#8203;(<a href="SpannerDriver.html" title="type parameter in SpannerDriver">Key</a>&nbsp;key,
       <a href="SpannerDriver.html" title="type parameter in SpannerDriver">Model</a>&nbsp;model,
       <a href="../../model/WriteOptions.html" title="interface in gust.backend.model">WriteOptions</a>&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Low-level record persistence method.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../runtime/ReactiveFuture.html" title="class in gust.backend.runtime">ReactiveFuture</a>&lt;java.util.Optional&lt;<a href="SpannerDriver.html" title="type parameter in SpannerDriver">Model</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#retrieve(Key,gust.backend.model.FetchOptions)">retrieve</a></span>&#8203;(<a href="SpannerDriver.html" title="type parameter in SpannerDriver">Key</a>&nbsp;key,
        <a href="../../model/FetchOptions.html" title="interface in gust.backend.model">FetchOptions</a>&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Low-level record retrieval method.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.gust.backend.model.PersistenceDriver">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;gust.backend.model.<a href="../../model/PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a></h3>
<code><a href="../../model/PersistenceDriver.html#applyFieldsRecursive(com.google.protobuf.Message.Builder,com.google.protobuf.Message,java.util.Set,gust.backend.model.FetchOptions.MaskMode,java.lang.String)">applyFieldsRecursive</a>, <a href="../../model/PersistenceDriver.html#applyMask(Model,gust.backend.model.FetchOptions)">applyMask</a>, <a href="../../model/PersistenceDriver.html#create(Key,Model)">create</a>, <a href="../../model/PersistenceDriver.html#create(Key,Model,gust.backend.model.WriteOptions)">create</a>, <a href="../../model/PersistenceDriver.html#create(Model)">create</a>, <a href="../../model/PersistenceDriver.html#create(Model,gust.backend.model.WriteOptions)">create</a>, <a href="../../model/PersistenceDriver.html#delete(Key)">delete</a>, <a href="../../model/PersistenceDriver.html#deleteRecord(Model)">deleteRecord</a>, <a href="../../model/PersistenceDriver.html#deleteRecord(Model,gust.backend.model.DeleteOptions)">deleteRecord</a>, <a href="../../model/PersistenceDriver.html#fetch(Key)">fetch</a>, <a href="../../model/PersistenceDriver.html#fetch(Key,gust.backend.model.FetchOptions)">fetch</a>, <a href="../../model/PersistenceDriver.html#fetchAsync(Key)">fetchAsync</a>, <a href="../../model/PersistenceDriver.html#fetchAsync(Key,gust.backend.model.FetchOptions)">fetchAsync</a>, <a href="../../model/PersistenceDriver.html#fetchReactive(Key)">fetchReactive</a>, <a href="../../model/PersistenceDriver.html#fetchReactive(Key,gust.backend.model.FetchOptions)">fetchReactive</a>, <a href="../../model/PersistenceDriver.html#fetchSafe(Key)">fetchSafe</a>, <a href="../../model/PersistenceDriver.html#fetchSafe(Key,gust.backend.model.FetchOptions)">fetchSafe</a>, <a href="../../model/PersistenceDriver.html#generateId(com.google.protobuf.Message)">generateId</a>, <a href="../../model/PersistenceDriver.html#generateKey(com.google.protobuf.Message)">generateKey</a>, <a href="../../model/PersistenceDriver.html#update(Key,Model)">update</a>, <a href="../../model/PersistenceDriver.html#update(Key,Model,gust.backend.model.UpdateOptions)">update</a>, <a href="../../model/PersistenceDriver.html#update(Model)">update</a>, <a href="../../model/PersistenceDriver.html#update(Model,gust.backend.model.UpdateOptions)">update</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="executorService()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executorService</h4>
<pre class="methodSignature">@Nonnull
public&nbsp;com.google.common.util.concurrent.ListeningScheduledExecutorService&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerDriver.html#line.246">executorService</a>()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../model/PersistenceDriver.html#executorService()">PersistenceDriver</a></code></span></div>
<div class="block">Resolve an executor service for use with this persistence driver. Operations will be executed against this as they
 are received.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../model/PersistenceDriver.html#executorService()">executorService</a></code>&nbsp;in interface&nbsp;<code><a href="../../model/PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a>&lt;<a href="SpannerDriver.html" title="type parameter in SpannerDriver">Key</a> extends com.google.protobuf.Message,&#8203;<a href="SpannerDriver.html" title="type parameter in SpannerDriver">Model</a> extends com.google.protobuf.Message,&#8203;com.google.cloud.spanner.Struct,&#8203;com.google.cloud.spanner.Mutation&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Scheduled executor service.</dd>
</dl>
</li>
</ul>
<a id="codec()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>codec</h4>
<pre class="methodSignature">@Nonnull
public&nbsp;<a href="../../model/ModelCodec.html" title="interface in gust.backend.model">ModelCodec</a>&lt;<a href="SpannerDriver.html" title="type parameter in SpannerDriver">Model</a>,&#8203;com.google.cloud.spanner.Mutation,&#8203;com.google.cloud.spanner.Struct&gt;&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerDriver.html#line.252">codec</a>()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../model/PersistenceDriver.html#codec()">PersistenceDriver</a></code></span></div>
<div class="block">Acquire an instance of the codec used by this adapter. Codecs are either injected/otherwise provided during adapter
 construction, or they are specified statically if the adapter depends on a specific codec.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../model/PersistenceDriver.html#codec()">codec</a></code>&nbsp;in interface&nbsp;<code><a href="../../model/PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a>&lt;<a href="SpannerDriver.html" title="type parameter in SpannerDriver">Key</a> extends com.google.protobuf.Message,&#8203;<a href="SpannerDriver.html" title="type parameter in SpannerDriver">Model</a> extends com.google.protobuf.Message,&#8203;com.google.cloud.spanner.Struct,&#8203;com.google.cloud.spanner.Mutation&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Model codec currently in use by this adapter.</dd>
</dl>
</li>
</ul>
<a id="retrieve(com.google.protobuf.Message,gust.backend.model.FetchOptions)">
<!--   -->
</a><a id="retrieve(Key,gust.backend.model.FetchOptions)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retrieve</h4>
<pre class="methodSignature">@Nonnull
public&nbsp;<a href="../../runtime/ReactiveFuture.html" title="class in gust.backend.runtime">ReactiveFuture</a>&lt;java.util.Optional&lt;<a href="SpannerDriver.html" title="type parameter in SpannerDriver">Model</a>&gt;&gt;&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerDriver.html#line.258">retrieve</a>&#8203;(@Nonnull
                                                          <a href="SpannerDriver.html" title="type parameter in SpannerDriver">Key</a>&nbsp;key,
                                                          @Nonnull
                                                          <a href="../../model/FetchOptions.html" title="interface in gust.backend.model">FetchOptions</a>&nbsp;options)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../model/PersistenceDriver.html#retrieve(Key,gust.backend.model.FetchOptions)">PersistenceDriver</a></code></span></div>
<div class="block">Low-level record retrieval method. Effectively called by all other fetch variants. Asynchronously retrieve a data
 model instance from storage, which will populate the provided <a href="../../runtime/ReactiveFuture.html" title="class in gust.backend.runtime"><code>ReactiveFuture</code></a> value.

 <p>All futures emitted via the persistence framework (and Gust writ-large) are <code>ListenableFuture</code>-compliant
 implementations under the hood. If the requested record cannot be located, <code>Optional.empty()</code> is returned as
 the future value, otherwise, the model is returned.</p>

 <p>This method additionally enables specification of custom <a href="../../model/FetchOptions.html" title="interface in gust.backend.model"><code>FetchOptions</code></a>, which are applied on a per-
 operation basis to override global defaults.</p>

 <p><b>Exceptions:</b> Instead of throwing a <a href="../../model/PersistenceException.html" title="class in gust.backend.model"><code>PersistenceException</code></a> as other methods do, this operation will
 <i>emit</i> the exception over the <code>Future</code> channel instead, or raise the exception in the event
 <code>Future.get()</code> is called to surface it in the invoking (or dependent) code.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../model/PersistenceDriver.html#retrieve(Key,gust.backend.model.FetchOptions)">retrieve</a></code>&nbsp;in interface&nbsp;<code><a href="../../model/PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a>&lt;<a href="SpannerDriver.html" title="type parameter in SpannerDriver">Key</a> extends com.google.protobuf.Message,&#8203;<a href="SpannerDriver.html" title="type parameter in SpannerDriver">Model</a> extends com.google.protobuf.Message,&#8203;com.google.cloud.spanner.Struct,&#8203;com.google.cloud.spanner.Mutation&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Key at which we should look for the requested entity, and emit it if found.</dd>
<dd><code>options</code> - Options to apply to this individual retrieval operation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Future value, which resolves to the specified datamodel instance, or <code>Optional.empty()</code> if the record
         could not be located by the storage engine.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../model/PersistenceDriver.html#fetch(Key)"><code>For a simple, synchronous (=unsafe) version of this method.</code></a>, 
<a href="../../model/PersistenceDriver.html#fetchSafe(Key)"><code>For a simple, synchronous (-safe) version of this method.</code></a>, 
<a href="../../model/PersistenceDriver.html#fetchAsync(Key)"><code>For an async variant of this method (identical, except options are optional).</code></a>, 
<a href="../../model/PersistenceDriver.html#fetchReactive(Key)"><code>For a reactive version of this method, which returns a .</code></a></dd>
</dl>
</li>
</ul>
<a id="persist(com.google.protobuf.Message,com.google.protobuf.Message,gust.backend.model.WriteOptions)">
<!--   -->
</a><a id="persist(Key,Model,gust.backend.model.WriteOptions)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>persist</h4>
<pre class="methodSignature">@Nonnull
public&nbsp;<a href="../../runtime/ReactiveFuture.html" title="class in gust.backend.runtime">ReactiveFuture</a>&lt;<a href="SpannerDriver.html" title="type parameter in SpannerDriver">Model</a>&gt;&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerDriver.html#line.347">persist</a>&#8203;(@Nullable
                                     <a href="SpannerDriver.html" title="type parameter in SpannerDriver">Key</a>&nbsp;key,
                                     @Nonnull
                                     <a href="SpannerDriver.html" title="type parameter in SpannerDriver">Model</a>&nbsp;model,
                                     @Nonnull
                                     <a href="../../model/WriteOptions.html" title="interface in gust.backend.model">WriteOptions</a>&nbsp;options)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../model/PersistenceDriver.html#persist(Key,Model,gust.backend.model.WriteOptions)">PersistenceDriver</a></code></span></div>
<div class="block">Low-level record persistence method. Effectively called by all other create/put variants. Asynchronously write a
 data model instance to storage, which will populate the provided <a href="../../runtime/ReactiveFuture.html" title="class in gust.backend.runtime"><code>ReactiveFuture</code></a> value.

 <p>Optionally, a key may be provided as a nominated value to the storage engine. Whether the engine accepts
 nominated keys is up to the implementation. In all cases, the engine must return the key used to store and address
 the value henceforth. If the engine <i>does</i> support nominated keys, it <i>must</i> operate in an idempotent
 manner with regard to those keys. In other words, repeated calls to create the same entity with the same key will
 not cause spurious side-effects - only one record will be created, with the remaining calls being rejected by the
 underlying engine.</p>

 <p>All futures emitted via the persistence framework (and Gust writ-large) are <code>ListenableFuture</code>-compliant
 implementations under the hood, but <a href="../../runtime/ReactiveFuture.html" title="class in gust.backend.runtime"><code>ReactiveFuture</code></a> allows a model-layer result to be used as a
 <code>Future</code>, or a one-item reactive <code>Publisher</code>.</p>

 <p>This method additionally enables specification of custom <a href="../../model/WriteOptions.html" title="interface in gust.backend.model"><code>WriteOptions</code></a>, which are applied on a per-
 operation basis to override global defaults.</p>

 <p><b>Exceptions:</b> Instead of throwing a <a href="../../model/PersistenceException.html" title="class in gust.backend.model"><code>PersistenceException</code></a> as other methods do, this operation will
 <i>emit</i> the exception over the <code>Future</code> channel instead, or raise the exception in the event
 <code>Future.get()</code> is called to surface it in the invoking (or dependent) code.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../model/PersistenceDriver.html#persist(Key,Model,gust.backend.model.WriteOptions)">persist</a></code>&nbsp;in interface&nbsp;<code><a href="../../model/PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a>&lt;<a href="SpannerDriver.html" title="type parameter in SpannerDriver">Key</a> extends com.google.protobuf.Message,&#8203;<a href="SpannerDriver.html" title="type parameter in SpannerDriver">Model</a> extends com.google.protobuf.Message,&#8203;com.google.cloud.spanner.Struct,&#8203;com.google.cloud.spanner.Mutation&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Key nominated by invoking code for storing this record. If no key is provided, the underlying storage
            engine is expected to allocate one. Where unsupported, <a href="../../model/PersistenceException.html" title="class in gust.backend.model"><code>PersistenceException</code></a> will be thrown.</dd>
<dd><code>model</code> - Model to store at the specified key, if provided.</dd>
<dd><code>options</code> - Options to apply to this persist operation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Reactive future, which resolves to the key where the provided model is now stored. In no case should this
         method return <code>null</code>. Instead, <a href="../../model/PersistenceException.html" title="class in gust.backend.model"><code>PersistenceException</code></a> will be thrown.</dd>
</dl>
</li>
</ul>
<a id="delete(com.google.protobuf.Message,gust.backend.model.DeleteOptions)">
<!--   -->
</a><a id="delete(Key,gust.backend.model.DeleteOptions)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>delete</h4>
<pre class="methodSignature">@Nonnull
public&nbsp;<a href="../../runtime/ReactiveFuture.html" title="class in gust.backend.runtime">ReactiveFuture</a>&lt;<a href="SpannerDriver.html" title="type parameter in SpannerDriver">Key</a>&gt;&nbsp;<a href="../../../../src-html/gust/backend/driver/spanner/SpannerDriver.html#line.437">delete</a>&#8203;(@Nonnull
                                  <a href="SpannerDriver.html" title="type parameter in SpannerDriver">Key</a>&nbsp;key,
                                  @Nonnull
                                  <a href="../../model/DeleteOptions.html" title="interface in gust.backend.model">DeleteOptions</a>&nbsp;baseOptions)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../model/PersistenceDriver.html#delete(Key,gust.backend.model.DeleteOptions)">PersistenceDriver</a></code></span></div>
<div class="block">Low-level record delete method. Effectively called by all other delete variants. Asynchronously and permanently
 erase an existing data model instance from storage, addressed by its key unique key or ID.

 <p>If no key or ID field, or value, may be located, an error is raised (see below for details). This operation is
 expected to operate in an <i>idempotent</i> manner (i.e. repeated calls with identical parameters do not yield
 different side effects). Calls referring to an already-deleted entity should silently succeed.</p>

 <p>All futures emitted via the persistence framework (and Gust writ-large) are <code>ListenableFuture</code>-compliant
 implementations under the hood, but <a href="../../runtime/ReactiveFuture.html" title="class in gust.backend.runtime"><code>ReactiveFuture</code></a> allows a model-layer result to be used as a
 <code>Future</code>, or a one-item reactive <code>Publisher</code>.</p>

 <p>This method additionally enables specification of custom <a href="../../model/DeleteOptions.html" title="interface in gust.backend.model"><code>DeleteOptions</code></a>, which are applied on a per-
 operation basis to override global defaults.</p>

 <p><b>Exceptions:</b> Instead of throwing a <a href="../../model/PersistenceException.html" title="class in gust.backend.model"><code>PersistenceException</code></a> as other methods do, this operation will
 <i>emit</i> the exception over the <code>Future</code> channel instead, or raise the exception in the event
 <code>Future.get()</code> is called to surface it in the invoking (or dependent) code.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../model/PersistenceDriver.html#delete(Key,gust.backend.model.DeleteOptions)">delete</a></code>&nbsp;in interface&nbsp;<code><a href="../../model/PersistenceDriver.html" title="interface in gust.backend.model">PersistenceDriver</a>&lt;<a href="SpannerDriver.html" title="type parameter in SpannerDriver">Key</a> extends com.google.protobuf.Message,&#8203;<a href="SpannerDriver.html" title="type parameter in SpannerDriver">Model</a> extends com.google.protobuf.Message,&#8203;com.google.cloud.spanner.Struct,&#8203;com.google.cloud.spanner.Mutation&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Unique key referring to the record in storage that should be deleted.</dd>
<dd><code>baseOptions</code> - Options to apply to this specific delete operation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Future value, which resolves to the deleted record's key when the operation completes.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SpannerDriver.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright (©) 2020, The Gust Framework Authors</small></p>
</footer>
</body>
</html>
